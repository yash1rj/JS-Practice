<!DOCTYPE html>
<html lang="en">
	<head>
		<meta http-equiv="Content-type" content="text/html; charset="utf-8">
		<title>Animate objects on HTML5 Canvas</title>
	</head>
	<body>
		<canvas id="myCanvas" width="500" height="500" style="border: 1px solid #ff0000; background-color: #ffd800"></canvas>
		<br><br>
		<br><br>
		<br><br>
		<div id="output"></div>
		
		<script type="text/javascript">
			window.onload = function doIt() {
				var xLoc = 0;
				var yLoc = 0;
				var xOld = 0;
				var yOld = 0;
				
				document.addEventListener('keydown', function(event) {
					if(event.keyCode ==37) { //left
						xOld = xLoc;
						xLoc -= 5;
						drawRectangle(xLoc, yLoc);
					}
					if(event.keyCode ==38) { //up
						yOld = yLoc;
						yLoc -= 5;
						drawRectangle(xLoc, yLoc);
					}
					if(event.keyCode ==39) { //right
						xOld = xLoc;
						xLoc += 5;
						drawRectangle(xLoc, yLoc);
					}
					if(event.keyCode ==40) { //down
						yOld = yLoc;
						yLoc += 5;
						drawRectangle(xLoc, yLoc);
					}
				});
				
				var canvas = document.getElementById("myCanvas");
				var context = canvas.getContext("2d");
				
				var myRectangle = { width: 100, height: 100, borderWidth: 2};
				
				drawRectangle(xLoc, yLoc);

				function drawRectangle(xLoc, yLoc) {
					context.clearRect(xOld - 6, yOld - 6, myRectangle.width + 12, myRectangle.height + 12);
					context.beginPath();
					context.rect(xLoc,yLoc,myRectangle.width,myRectangle.height);
					context.fillStyle = "#ffff00";
					context.fill();
					context.lineWidth = myRectangle.borderWidth;
					context.strokeStyle  = "#000000";
					context.stroke();
					document.getElementById("output").innerHTML = "xLoc: " + xLoc + "  yLoc: " + yLoc + "  xOld: " + xOld + "  yOld: " + yOld;
				}
			}
		</script>
	</body>
</html>
